<app-details [isHistoryDetails]="false" [uploadFileAccessGranted]="uploadFileAccessGranted"
             [removeFileAccessGranted]="removeFileAccessGranted"
             [downloadFileAccessGranted]="downloadFileAccessGranted">
  <span avatar>
    <div mat-card-avatar
         style="float:left;background-image: url('assets/project-icon.png'); background-size: cover;">
    </div>
  </span>
  <span title>{{primaryAttributes.name}}</span>
  <span subtitle>#{{primaryAttributes.shortForm}}</span>
  <span content>
    <label class="attribute-label">Summary:</label>
    <br>
    {{primaryAttributes.summary}}

    <br>
    <br>

    <label class="attribute-label">Status:</label>
    <br>
    {{primaryAttributes.status}}

    <br>
    <br>

    <mat-spinner [ngClass]="spin ? 'mat-spinner-enabled' : 'mat-spinner-disabled'"></mat-spinner>

    <label class="attribute-label">Description:</label>
    <br>
   <div *ngIf="secondaryAttributes.description">
          <quill-view-html [content]="secondaryAttributes.description" theme="snow"></quill-view-html>
   </div>

    <br>
    <br>
    <label class="attribute-label">Created By:</label>
     <span
       matTooltip="{{secondaryAttributes.createdBy?.firstName}} {{secondaryAttributes.createdBy?.lastName}} ({{secondaryAttributes.createdBy?.nick}})">
       {{secondaryAttributes.createdBy?.firstName}} {{secondaryAttributes.createdBy?.lastName}}
     </span>
     <br>
     <label class="attribute-label">Owner:</label>
     <span
       matTooltip="{{primaryAttributes.owner?.firstName}} {{primaryAttributes.owner?.lastName}} ({{primaryAttributes.owner?.nick}})">
       {{primaryAttributes.owner?.firstName}} {{primaryAttributes.owner?.lastName}}
     </span>
    <br>
    <label class="attribute-label">Created:</label> {{secondaryAttributes.created | date: 'medium'}}
    <br>
    <label class="attribute-label">Modified:</label> {{secondaryAttributes.updated | date: 'medium'}}
  </span>

  <span buttons>
    <button *ngIf="authService.isManager()" mat-button routerLink="/projects/{{primaryAttributes.id}}/edit">
      <mat-icon class="details-actions">edit</mat-icon>
    </button>
    <button mat-button routerLink="/projects/{{primaryAttributes.id}}/history">
      <mat-icon class="details-actions">history</mat-icon>
    </button>
    <button mat-button routerLink="/projects/{{primaryAttributes.id}}/create-task">
      <mat-icon class="details-actions"> note_add</mat-icon>
    </button>
  </span>
</app-details>
<app-message-bar></app-message-bar>
